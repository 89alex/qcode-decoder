function QRCodeDecoder(){this.tmrCapture=null,this.canvasElem=null}QRCodeDecoder.prototype.prepareCanvas=function(e,t,a){return e.style.width=t+"px",e.style.height=a+"px",e.width=t,e.height=a,qrcode.setCanvasElement(e),this.canvasElem=e,e},QRCodeDecoder.prototype.captureToCanvas=function(){var e=this;this.tmrCapture&&clearTimeout(this.tmrCapture);var t=this.canvasElem.getContext("2d");t.clearRect(0,0,this.canvasElem.width,this.canvasElem.height);try{t.drawImage(this.videoElem,0,0);try{qrcode.decode()}catch(a){console.log(a),this.tmrCapture=setTimeout(function(){e.captureToCanvas.apply(e,null)},500)}}catch(a){console.log(a),this.tmrCapture=setTimeout(function(){e.captureToCanvas.apply(e,null)},500)}},QRCodeDecoder.prototype.hasGetUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},QRCodeDecoder.prototype.isCanvasSupported=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},QRCodeDecoder.prototype.prepareVideo=function(e){var t=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0,audio:!1},function(a){e.src=window.URL.createObjectURL(a),t.videoElem=e,setTimeout(function(){t.captureToCanvas.apply(t,null)},500)},function(e){console.log("An error occurred while getting video stream: ",e)}):console.log("Couldn't get video from camera"),setTimeout(function(){t.captureToCanvas.apply(t,null)},500)},QRCodeDecoder.prototype.setDecoderCallback=function(e){qrcode.callback=e};