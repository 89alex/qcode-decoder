function QRCodeDecoder(){this.tmrCapture=null,this.canvasElem=null}QRCodeDecoder.prototype.prepareCanvas=function(e,t,a){return t&&a&&(e.style.width=t+"px",e.style.height=a+"px",e.width=t,e.height=a),qrcode.setCanvasElement(e),this.canvasElem=e,e},QRCodeDecoder.prototype._captureToCanvas=function(){var e=this;this.tmrCapture&&clearTimeout(this.tmrCapture);var t=this.canvasElem.getContext("2d");t.clearRect(0,0,this.canvasElem.width,this.canvasElem.height);try{t.drawImage(this.videoElem,0,0);try{qrcode.decode()}catch(a){console.log(a),this.tmrCapture=setTimeout(function(){e._captureToCanvas.apply(e,null)},500)}}catch(a){console.log(a),this.tmrCapture=setTimeout(function(){e._captureToCanvas.apply(e,null)},500)}},QRCodeDecoder.prototype.hasGetUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},QRCodeDecoder.prototype.isCanvasSupported=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},QRCodeDecoder.prototype.prepareVideo=function(e,t){var a=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0,audio:!1},function(t){e.src=window.URL.createObjectURL(t),a.videoElem=e,setTimeout(function(){a._captureToCanvas.apply(a,null)},500)},t):console.log("Couldn't get video from camera"),setTimeout(function(){a._captureToCanvas.apply(a,null)},500)},QRCodeDecoder.prototype.setDecoderCallback=function(e){qrcode.callback=e},QRCodeDecoder.prototype.decodeFromSrc=function(e){qrcode.decode(e)};